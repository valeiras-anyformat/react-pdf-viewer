"use strict";var e=require("@react-pdf-viewer/core");function t(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var l=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,l.get?l:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var n=t(require("react"));const l=()=>n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M11.5 23.499L11.5 14.499"}),n.createElement("path",{d:"M7.5 18.499L11.5 14.499 15.5 18.499"}),n.createElement("path",{d:"M11.5 1.499L11.5 10.499"}),n.createElement("path",{d:"M7.5 6.499L11.5 10.499 15.5 6.499"}),n.createElement("path",{d:"M20.5 12.499L1.5 12.499"})),r=()=>n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M0.5 12L23.5 12"}),n.createElement("path",{d:"M11.5 1L11.5 23"}),n.createElement("path",{d:"M8.5 4L11.5 1 14.5 4"}),n.createElement("path",{d:"M20.5 9L23.5 12 20.5 15"}),n.createElement("path",{d:"M3.5 15L0.5 12 3.5 9"}),n.createElement("path",{d:"M14.5 20L11.5 23 8.5 20"})),c=({enableShortcuts:t,onClick:l})=>{const{l10n:c}=n.useContext(e.LocalizationContext),o=c&&c.fullScreen?c.fullScreen.enterFullScreen:"Full screen",u=t?e.isMac()?"Meta+Ctrl+F":"F11":"";return n.createElement(e.Tooltip,{ariaControlsSuffix:"full-screen-enter",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaKeyShortcuts:u,ariaLabel:o,isDisabled:!e.isFullScreenEnabled(),testId:"full-screen__enter-button",onClick:l},n.createElement(r,null)),content:()=>o})},o=({onClick:t})=>{const{l10n:r}=n.useContext(e.LocalizationContext),c=r&&r.fullScreen?r.fullScreen.exitFullScreen:"Exit full screen";return n.createElement(e.Tooltip,{ariaControlsSuffix:"full-screen-exit",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaKeyShortcuts:"Esc",ariaLabel:c,testId:"full-screen__exit-button-with-tooltip",onClick:t},n.createElement(l,null)),content:()=>c})},u=(t,l)=>{const[r,c]=n.useState(l.get("fullScreenMode")),o=n.useCallback((e=>{c(e)}),[]);return n.useEffect((()=>(l.subscribe("fullScreenMode",o),()=>{l.unsubscribe("fullScreenMode",o)})),[]),{enterFullScreen:()=>{const e=l.get("getPagesContainer");if(!e)return;const n=t(e());l.get("enterFullScreenMode")(n)},exitFullScreen:()=>{l.get("exitFullScreenMode")()},isFullScreen:r===e.FullScreenMode.Entering||r===e.FullScreenMode.Entered}},a=({children:e,enableShortcuts:t,getFullScreenTarget:l,store:r})=>{const{enterFullScreen:a,exitFullScreen:i,isFullScreen:s}=u(l,r);return(e||(e=>s?n.createElement(o,{onClick:e.onClick}):n.createElement(c,{enableShortcuts:t,onClick:e.onClick})))({onClick:s?i:a})},i=({onClick:t})=>{const{l10n:l}=n.useContext(e.LocalizationContext),c=l&&l.fullScreen?l.fullScreen.enterFullScreen:"Full screen";return n.createElement(e.MenuItem,{icon:n.createElement(r,null),isDisabled:!e.isFullScreenEnabled(),testId:"full-screen__enter-menu",onClick:t},c)};var s="rpv_603aaf14",S="rpv_4d1d3436",d="rpv_4d1d4ab6";const E=({onClick:t})=>{const{l10n:r}=n.useContext(e.LocalizationContext),{direction:c}=n.useContext(e.ThemeContext),o=c===e.TextDirection.RightToLeft,u=r&&r.fullScreen?r.fullScreen.exitFullScreen:"Exit full screen";return n.createElement("div",{className:e.classNames({[s]:!0,[S]:!o,[d]:o})},n.createElement(e.MinimalButton,{ariaLabel:u,testId:"full-screen__exit-button",onClick:t},n.createElement(l,null)))},m=({children:e,getFullScreenTarget:t,store:l})=>{const{enterFullScreen:r,exitFullScreen:c,isFullScreen:o}=u(t,l);return o&&(e||(e=>n.createElement(E,{onClick:e.onClick})))({onClick:o?c:r})};var f="rpv_8f5c1bd3";const F=({store:t,onEnterFullScreen:l,onExitFullScreen:r})=>{const[c,o]=n.useState(t.get("fullScreenMode")),u=n.useCallback((e=>{o(e)}),[]);return n.useEffect((()=>{switch(c){case e.FullScreenMode.Entered:(()=>{const e=t.get("zoom");e&&l(e)})();break;case e.FullScreenMode.Exited:(()=>{const e=t.get("zoom");e&&r(e)})()}}),[c]),n.useEffect((()=>(t.subscribe("fullScreenMode",u),()=>{t.unsubscribe("fullScreenMode",u)})),[]),c===e.FullScreenMode.Entering&&n.createElement("div",{className:f},n.createElement(e.Spinner,null))},M=({containerRef:t,getFullScreenTarget:l,store:r})=>{const[c,o]=n.useState(t.current);n.useEffect((()=>{t.current!==c&&o(t.current)}),[]);const{enterFullScreen:a}=u(l,r),i=n.useCallback((t=>{if(!c||t.shiftKey||t.altKey)return;(e.isMac()?t.metaKey&&t.ctrlKey&&"f"===t.key:"F11"===t.key)&&document.activeElement&&c.contains(document.activeElement)&&(t.preventDefault(),a())}),[c]);return n.useEffect((()=>{if(c)return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i)}}),[c]),n.createElement(n.Fragment,null)};exports.ExitFullScreenIcon=l,exports.FullScreenIcon=r,exports.fullScreenPlugin=t=>{const l=t?.getFullScreenTarget||(e=>e),r=n.useMemo((()=>Object.assign({},{enableShortcuts:!0,onEnterFullScreen:()=>{},onExitFullScreen:()=>{}},t)),[]),o=n.useMemo((()=>e.createStore({enterFullScreenMode:()=>{},exitFullScreenMode:()=>{},fullScreenMode:e.FullScreenMode.Normal,zoom:()=>{}})),[]),u=e=>n.createElement(a,{...e,enableShortcuts:r.enableShortcuts,getFullScreenTarget:l,store:o}),s=()=>n.createElement(m,{getFullScreenTarget:l,store:o},t?.renderExitFullScreenButton);return{install:e=>{o.update("enterFullScreenMode",e.enterFullScreenMode),o.update("exitFullScreenMode",e.exitFullScreenMode),o.update("getPagesContainer",e.getPagesContainer),o.update("zoom",e.zoom)},onViewerStateChange:e=>(o.update("fullScreenMode",e.fullScreenMode),e),renderViewer:e=>{const t=e.slot;return t.subSlot&&(t.subSlot.children=n.createElement(n.Fragment,null,r.enableShortcuts&&n.createElement(M,{containerRef:e.containerRef,getFullScreenTarget:l,store:o}),n.createElement(F,{store:o,onEnterFullScreen:r.onEnterFullScreen,onExitFullScreen:r.onExitFullScreen}),n.createElement(s,null),t.subSlot.children)),t},EnterFullScreen:u,EnterFullScreenButton:()=>n.createElement(u,null,(e=>n.createElement(c,{enableShortcuts:r.enableShortcuts,...e}))),EnterFullScreenMenuItem:e=>n.createElement(u,null,(t=>n.createElement(i,{onClick:()=>{t.onClick(),e.onClick()}})))}};
