"use strict";var e=require("@react-pdf-viewer/core");function t(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var n=t(require("react"));const a=()=>n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552\n            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11\n            C1.96,3.016,2.138,2.966,2.32,2.966z"})),o=()=>n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043\n            L23.541,5.627"})),r=()=>n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8\n            L0.535,18.373"})),i=()=>n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448\n            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373\n            C22.143,20.984,21.965,21.034,21.783,21.034z"}));var s="rpv_638e1576";const c=t=>{const[a,o]=n.useState(t.get("currentPage")||0),r=e=>{o(e)};return e.useIsomorphicLayoutEffect((()=>(t.subscribe("currentPage",r),()=>{t.unsubscribe("currentPage",r)})),[]),{currentPage:a}},l=e=>{const[t,a]=n.useState(e.get("numberOfPages")||0),o=e=>{a(e)};return n.useEffect((()=>(e.subscribe("numberOfPages",o),()=>{e.unsubscribe("numberOfPages",o)})),[]),{numberOfPages:t}},u=({store:t})=>{const{l10n:a}=n.useContext(e.LocalizationContext),[o,r]=n.useState("1"),{currentPage:i}=c(t),{numberOfPages:u}=l(t);n.useEffect((()=>r(`${i+1}`)),[i]);const g=e=>{const n=t.get("jumpToPage");n&&n(e)},m=a&&a.pageNavigation?a.pageNavigation.enterPageNumber:"Enter a page number";return n.createElement("span",{className:s},n.createElement(e.TextBox,{ariaLabel:m,testId:"page-navigation__current-page-input",type:"text",value:o,onChange:r,onKeyDown:e=>{switch(e.key){case"ArrowUp":(()=>{const e=i-1;e>=0&&(r(`${e+1}`),g(e))})();break;case"ArrowDown":(()=>{const e=i+1;e<u&&(r(`${e+1}`),g(e))})();break;case"Enter":(()=>{const e=parseInt(o,10);""===o||e<1||e>u?r(`${i+1}`):g(e-1)})()}}}))},g=({children:t,doc:a})=>{const[o,r]=e.useSafeState({loading:!0,labels:[]});return n.useEffect((()=>{a.getPageLabels().then((e=>{r({loading:!1,labels:e||[]})}))}),[a.loadingTask.docId]),o.loading?n.createElement(n.Fragment,null):t(o.labels)},m=({children:e,store:t})=>{const a=(e=>{const[t,a]=n.useState(e.get("doc")),o=e=>{a(e)};return n.useEffect((()=>(e.subscribe("doc",o),()=>{e.unsubscribe("doc",o)})),[]),t})(t),{currentPage:o}=c(t),{numberOfPages:r}=l(t),i=e||(e=>n.createElement(n.Fragment,null,e.currentPage+1));return a?n.createElement(g,{doc:a},(e=>{const t=e.length===r&&r>0?e[o]:"";return i({currentPage:o,numberOfPages:r,pageLabel:t})})):n.createElement(n.Fragment,null)},p=({isDisabled:t,onClick:a})=>{const{l10n:o}=n.useContext(e.LocalizationContext),r=o&&o.pageNavigation?o.pageNavigation.goToFirstPage:"First page";return n.createElement(e.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaLabel:r,isDisabled:t,testId:"page-navigation__first-button",onClick:a},n.createElement(i,null)),content:()=>r})},d=({children:e,store:t})=>{const{currentPage:a}=c(t);return(e||(e=>n.createElement(p,{isDisabled:e.isDisabled,onClick:e.onClick})))({isDisabled:0===a,onClick:()=>{const e=t.get("jumpToPage");e&&e(0)}})},P=({isDisabled:t,onClick:a})=>{const{l10n:o}=n.useContext(e.LocalizationContext),r=o&&o.pageNavigation?o.pageNavigation.goToFirstPage:"First page";return n.createElement(e.MenuItem,{icon:n.createElement(i,null),isDisabled:t,testId:"page-navigation__first-menu",onClick:a},r)},b=({isDisabled:t,onClick:o})=>{const{l10n:r}=n.useContext(e.LocalizationContext),i=r&&r.pageNavigation?r.pageNavigation.goToLastPage:"Last page";return n.createElement(e.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaLabel:i,isDisabled:t,testId:"page-navigation__last-button",onClick:o},n.createElement(a,null)),content:()=>i})},E=({children:e,store:t})=>{const{currentPage:a}=c(t),{numberOfPages:o}=l(t);return(e||(e=>n.createElement(b,{isDisabled:e.isDisabled,onClick:e.onClick})))({isDisabled:a+1>=o,onClick:()=>{const e=t.get("jumpToPage");e&&e(o-1)}})},v=({isDisabled:t,onClick:o})=>{const{l10n:r}=n.useContext(e.LocalizationContext),i=r&&r.pageNavigation?r.pageNavigation.goToLastPage:"Last page";return n.createElement(e.MenuItem,{icon:n.createElement(a,null),isDisabled:t,testId:"page-navigation__last-menu",onClick:o},i)},C=({isDisabled:t,onClick:a})=>{const{l10n:r}=n.useContext(e.LocalizationContext),i=r&&r.pageNavigation?r.pageNavigation.goToNextPage:"Next page";return n.createElement(e.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaLabel:i,isDisabled:t,testId:"page-navigation__next-button",onClick:a},n.createElement(o,null)),content:()=>i})},f=({children:e,store:t})=>{const{currentPage:a}=c(t),{numberOfPages:o}=l(t);return(e||(e=>n.createElement(C,{onClick:e.onClick,isDisabled:e.isDisabled})))({isDisabled:a+1>=o,onClick:()=>{const e=t.get("jumpToNextPage");e&&e()}})},D=({isDisabled:t,onClick:a})=>{const{l10n:r}=n.useContext(e.LocalizationContext),i=r&&r.pageNavigation?r.pageNavigation.goToNextPage:"Next page";return n.createElement(e.MenuItem,{icon:n.createElement(o,null),isDisabled:t,testId:"page-navigation__next-menu",onClick:a},i)},k=({isDisabled:t,onClick:a})=>{const{l10n:o}=n.useContext(e.LocalizationContext),i=o&&o.pageNavigation?o.pageNavigation.goToPreviousPage:"Previous page";return n.createElement(e.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaLabel:i,isDisabled:t,testId:"page-navigation__previous-button",onClick:a},n.createElement(r,null)),content:()=>i})},T=({store:e,children:t})=>{const{currentPage:a}=c(e);return(t||(e=>n.createElement(k,{isDisabled:e.isDisabled,onClick:e.onClick})))({isDisabled:a<=0,onClick:()=>{const t=e.get("jumpToPreviousPage");t&&t()}})},x=({isDisabled:t,onClick:a})=>{const{l10n:o}=n.useContext(e.LocalizationContext),i=o&&o.pageNavigation?o.pageNavigation.goToPreviousPage:"Previous page";return n.createElement(e.MenuItem,{icon:n.createElement(r,null),isDisabled:t,testId:"page-navigation__previous-menu",onClick:a},i)},L=({children:e,store:t})=>{const{numberOfPages:a}=l(t);return e?e({numberOfPages:a}):n.createElement(n.Fragment,null,a)},N=({containerRef:t,numPages:a,store:o})=>{const{currentPage:r}=c(o),i=n.useRef(r);i.current=r;const s=n.useRef(!1),[l,u]=n.useState(t.current);n.useEffect((()=>{t.current!==l&&u(t.current)}),[]);const g=()=>{s.current=!0},m=()=>{s.current=!1},p=n.useCallback((t=>{if(!l)return;if(!(s.current||document.activeElement&&l.contains(document.activeElement)))return;const n=t.altKey&&"ArrowDown"===t.key||!t.shiftKey&&!t.altKey&&"PageDown"===t.key,r=t.altKey&&"ArrowUp"===t.key||!t.shiftKey&&!t.altKey&&"PageUp"===t.key;if(n)return t.preventDefault(),void(()=>{const e=o.get("jumpToPage"),t=i.current+1;e&&t<a&&e(t)})();if(r)return t.preventDefault(),void(()=>{const e=o.get("jumpToPage"),t=i.current-1;e&&t>=0&&e(t)})();if(e.isMac()?t.metaKey&&!t.ctrlKey:t.altKey)switch(t.key){case"ArrowLeft":t.preventDefault(),(()=>{const e=o.get("jumpToPreviousDestination");e&&e()})();break;case"ArrowRight":t.preventDefault(),(()=>{const e=o.get("jumpToNextDestination");e&&e()})()}}),[l]);return n.useEffect((()=>{if(l)return document.addEventListener("keydown",p),l.addEventListener("mouseenter",g),l.addEventListener("mouseleave",m),()=>{document.removeEventListener("keydown",p),l.removeEventListener("mouseenter",g),l.removeEventListener("mouseleave",m)}}),[l]),n.createElement(n.Fragment,null)};exports.DownArrowIcon=a,exports.NextIcon=o,exports.PreviousIcon=r,exports.UpArrowIcon=i,exports.pageNavigationPlugin=t=>{const a=n.useMemo((()=>Object.assign({},{enableShortcuts:!0},t)),[]),o=n.useMemo((()=>e.createStore()),[]),r=e=>n.createElement(d,{...e,store:o}),i=e=>n.createElement(E,{...e,store:o}),s=e=>n.createElement(f,{...e,store:o}),c=e=>n.createElement(T,{...e,store:o});return{install:e=>{o.update("jumpToDestination",e.jumpToDestination),o.update("jumpToNextDestination",e.jumpToNextDestination),o.update("jumpToNextPage",e.jumpToNextPage),o.update("jumpToPage",e.jumpToPage),o.update("jumpToPreviousDestination",e.jumpToPreviousDestination),o.update("jumpToPreviousPage",e.jumpToPreviousPage)},renderViewer:e=>{const{slot:t}=e;if(!a.enableShortcuts)return t;const r={children:n.createElement(n.Fragment,null,n.createElement(N,{containerRef:e.containerRef,numPages:e.doc.numPages,store:o}),t.children)};return{...t,...r}},onDocumentLoad:e=>{o.update("doc",e.doc),o.update("numberOfPages",e.doc.numPages)},onViewerStateChange:e=>(o.update("currentPage",e.pageIndex),e),jumpToNextPage:()=>{const e=o.get("jumpToNextPage");e&&e()},jumpToPage:e=>{const t=o.get("jumpToPage");t&&t(e)},jumpToPreviousPage:()=>{const e=o.get("jumpToPreviousPage");e&&e()},CurrentPageInput:()=>n.createElement(u,{store:o}),CurrentPageLabel:e=>n.createElement(m,{...e,store:o}),GoToFirstPage:r,GoToFirstPageButton:()=>n.createElement(r,null,(e=>n.createElement(p,{...e}))),GoToFirstPageMenuItem:e=>n.createElement(r,null,(t=>n.createElement(P,{isDisabled:t.isDisabled,onClick:()=>{t.onClick(),e.onClick()}}))),GoToLastPage:i,GoToLastPageButton:()=>n.createElement(i,null,(e=>n.createElement(b,{...e}))),GoToLastPageMenuItem:e=>n.createElement(i,null,(t=>n.createElement(v,{isDisabled:t.isDisabled,onClick:()=>{t.onClick(),e.onClick()}}))),GoToNextPage:s,GoToNextPageButton:()=>n.createElement(s,null,(e=>n.createElement(C,{...e}))),GoToNextPageMenuItem:e=>n.createElement(s,null,(t=>n.createElement(D,{isDisabled:t.isDisabled,onClick:()=>{t.onClick(),e.onClick()}}))),GoToPreviousPage:c,GoToPreviousPageButton:()=>n.createElement(c,null,(e=>n.createElement(k,{...e}))),GoToPreviousPageMenuItem:e=>n.createElement(c,null,(t=>n.createElement(x,{isDisabled:t.isDisabled,onClick:()=>{t.onClick(),e.onClick()}}))),NumberOfPages:e=>n.createElement(L,{...e,store:o})}};
