"use strict";var e=require("@react-pdf-viewer/core");function t(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var n=t(require("react"));const o=()=>n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4\n            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335\n            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67\n            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6"})),c=()=>n.createElement(e.Icon,{size:16},n.createElement("path",{d:"M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906\n            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262\n            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0\n            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z"}))
/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2024 Nguyen Huu Phuoc <me@phuoc.ng>
 */;var l=(e=>(e.Hand="Hand",e.Text="Text",e))(l||{});const r=({children:t,mode:r,onClick:s})=>{const{l10n:i}=n.useContext(e.LocalizationContext);let a="",d=n.createElement(c,null);switch(r){case l.Hand:a=i&&i.selectionMode?i.selectionMode.handTool:"Hand tool",d=n.createElement(o,null);break;case l.Text:default:a=i&&i.selectionMode?i.selectionMode.textSelectionTool:"Text selection tool",d=n.createElement(c,null)}return t({icon:d,label:a,onClick:s})},s=({isSelected:t,mode:o,onClick:c})=>{let s="";switch(o){case l.Hand:s="selection-mode__hand-button";break;case l.Text:default:s="selection-mode__text-button"}return n.createElement(r,{mode:o,onClick:c},(o=>n.createElement(e.Tooltip,{ariaControlsSuffix:"selection-mode-switch",position:e.Position.BottomCenter,target:n.createElement(e.MinimalButton,{ariaLabel:o.label,isSelected:t,testId:s,onClick:o.onClick},o.icon),content:()=>o.label})))},i=({children:e,mode:t,store:o})=>{const c=t===o.get("selectionMode");return(e||(e=>n.createElement(s,{isSelected:c,mode:e.mode,onClick:e.onClick})))({isSelected:c,mode:t,onClick:()=>o.update("selectionMode",t)})},a=({isSelected:t,mode:o,onClick:c})=>{let s="";switch(o){case l.Hand:s="selection-mode__hand-menu";break;case l.Text:default:s="selection-mode__text-menu"}return n.createElement(r,{mode:o,onClick:c},(o=>n.createElement(e.MenuItem,{checked:t,icon:o.icon,testId:s,onClick:o.onClick},o.label)))};var d="rpv_548bac0a",u="rpv_8f90bb4a";const m=({store:e})=>{const t=n.useRef(null),[o,c]=n.useState(l.Text),r=n.useRef({top:0,left:0,x:0,y:0}),s=e=>{const n=t.current;n&&(n.scrollTop=r.current.top-(e.clientY-r.current.y),n.scrollLeft=r.current.left-(e.clientX-r.current.x))},i=()=>{const e=t.current;e&&(e.classList.add(d),e.classList.remove(u),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",i))},a=e=>{const n=t.current;n&&o!==l.Text&&(n.classList.remove(d),n.classList.add(u),e.preventDefault(),e.stopPropagation(),r.current={left:n.scrollLeft,top:n.scrollTop,x:e.clientX,y:e.clientY},document.addEventListener("mousemove",s),document.addEventListener("mouseup",i))},m=e=>{t.current=e()},C=e=>{c(e)};return n.useEffect((()=>{const e=t.current;if(e)return o===l.Hand?e.classList.add(d):e.classList.remove(d),e.addEventListener("mousedown",a),()=>{e.removeEventListener("mousedown",a)}}),[o]),n.useEffect((()=>(e.subscribe("getPagesContainer",m),e.subscribe("selectionMode",C),()=>{e.unsubscribe("getPagesContainer",m),e.unsubscribe("selectionMode",C)})),[]),n.createElement(n.Fragment,null)};exports.HandToolIcon=o,exports.SelectionMode=l,exports.TextSelectionIcon=c,exports.selectionModePlugin=t=>{const o=n.useMemo((()=>e.createStore()),[]),c=e=>n.createElement(i,{...e,store:o});return{install:e=>{o.update("selectionMode",t&&t.selectionMode?t.selectionMode:l.Text),o.update("getPagesContainer",e.getPagesContainer)},renderViewer:e=>{const t=e.slot;return t.subSlot&&t.subSlot.children&&(t.subSlot.children=n.createElement(n.Fragment,null,n.createElement(m,{store:o}),t.subSlot.children)),t},SwitchSelectionMode:c,SwitchSelectionModeButton:e=>n.createElement(c,{mode:e.mode},(e=>n.createElement(s,{isSelected:e.isSelected,mode:e.mode,onClick:()=>{e.onClick()}}))),SwitchSelectionModeMenuItem:e=>n.createElement(c,{mode:e.mode},(t=>n.createElement(a,{isSelected:t.isSelected,mode:t.mode,onClick:()=>{t.onClick(),e.onClick()}})))}};
