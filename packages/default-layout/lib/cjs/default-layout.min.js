"use strict";var e=require("@react-pdf-viewer/core"),t=require("react"),a=require("@react-pdf-viewer/attachment"),r=require("@react-pdf-viewer/bookmark"),n=require("@react-pdf-viewer/thumbnail"),l=require("@react-pdf-viewer/toolbar");function c(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(a){if("default"!==a){var r=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,r.get?r:{enumerable:!0,get:function(){return e[a]}})}})),t.default=e,Object.freeze(t)}var o=c(t);const i=()=>o.createElement(e.Icon,{size:16},o.createElement("path",{d:"M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3\n            M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5\n            c0.552,0,1,0.448,1,1L11.5,10.5z\n            M14.5,6.499h6\n            M14.5,10.499h6\n            M3.5,14.499h17\n            M3.5,18.499h16.497"})),s=()=>o.createElement(e.Icon,{size:16},o.createElement("path",{d:"M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883\n            c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0\n            L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9"})),u=()=>o.createElement(e.Icon,{size:16},o.createElement("path",{d:"M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z\n            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z"}));var d="rpv_a85ddeb",b="rpv_306d3634",m="rpv_903d01ff",p="rpv_903d187f",f="rpv_86f3034f",h="rpv_bda34215",v="rpv_81fd021e",T="rpv_c6f30708",g="rpv_4ac5591",E="rpv_f36067c2",_="rpv_f3607e42";const k=({attachmentTabContent:t,bookmarkTabContent:a,store:r,thumbnailTabContent:n,tabs:l})=>{const c=o.useRef(null),{l10n:k}=o.useContext(e.LocalizationContext),[y,C]=o.useState(r.get("isCurrentTabOpened")||!1),[P,L]=o.useState(r.get("currentTab")),{direction:M}=o.useContext(e.ThemeContext),O=M===e.TextDirection.RightToLeft,S=[{content:n,icon:o.createElement(u,null),title:k&&k.defaultLayout?k.defaultLayout.thumbnail:"Thumbnail"},{content:a,icon:o.createElement(i,null),title:k&&k.defaultLayout?k.defaultLayout.bookmark:"Bookmark"},{content:t,icon:o.createElement(s,null),title:k&&k.defaultLayout?k.defaultLayout.attachment:"Attachment"}],x=l?l(S):S,I=e=>{e>=0&&e<=x.length-1&&(r.update("isCurrentTabOpened",!0),L(e))},N=e=>{C(e)};return o.useEffect((()=>(r.subscribe("currentTab",I),r.subscribe("isCurrentTabOpened",N),()=>{r.unsubscribe("currentTab",I),r.unsubscribe("isCurrentTabOpened",N)})),[]),0===x.length?o.createElement(o.Fragment,null):o.createElement(o.Fragment,null,o.createElement("div",{"data-testid":"default-layout__sidebar",className:e.classNames({[d]:!0,[b]:y,[m]:!O,[p]:O}),ref:c},o.createElement("div",{className:f},o.createElement("div",{className:h,role:"tablist","aria-orientation":"vertical"},x.map(((t,a)=>o.createElement("div",{"aria-controls":"rpv-default-layout__sidebar-content","aria-selected":P===a,key:a,className:v,id:`rpv-default-layout__sidebar-tab-${a}`,role:"tab"},o.createElement(e.Tooltip,{ariaControlsSuffix:`default-layout-sidebar-tab-${a}`,position:O?e.Position.LeftCenter:e.Position.RightCenter,target:o.createElement(e.MinimalButton,{ariaLabel:t.title,isSelected:P===a,onClick:()=>(e=>{if(P===e){r.update("isCurrentTabOpened",!r.get("isCurrentTabOpened"));const e=c.current;e&&e.style.width&&e.style.removeProperty("width")}else r.update("currentTab",e)})(a)},t.icon),content:()=>t.title}))))),P>=0&&o.createElement("div",{"aria-labelledby":`rpv-default-layout__sidebar-tab-${P}`,id:"rpv-default-layout__sidebar-content",className:e.classNames({[T]:!0,[g]:y,[E]:!O,[_]:O}),role:"tabpanel",tabIndex:-1},x[P].content))),y&&o.createElement(e.Splitter,{constrain:e=>e.firstHalfPercentage>=20&&e.firstHalfPercentage<=80}))};var y="rpv_d51a35ff",C="rpv_36f1a57b",P="rpv_e2a966ef",L="rpv_36ecd964",M="rpv_6d2cbc79";exports.BookmarkIcon=i,exports.FileIcon=s,exports.ThumbnailIcon=u,exports.defaultLayoutPlugin=t=>{const c=o.useMemo((()=>e.createStore({isCurrentTabOpened:!1,currentTab:-1})),[]),i=a.attachmentPlugin(),s=r.bookmarkPlugin(),u=n.thumbnailPlugin(t?t.thumbnailPlugin:{}),d=l.toolbarPlugin(t?t.toolbarPlugin:{}),{Attachments:b}=i,{Bookmarks:m}=s,{Thumbnails:p}=u,{Toolbar:f}=d,h=t?t.sidebarTabs:e=>e;return{attachmentPluginInstance:i,bookmarkPluginInstance:s,thumbnailPluginInstance:u,toolbarPluginInstance:d,dependencies:[i,s,u,d],activateTab:e=>{c.update("currentTab",e)},toggleTab:e=>{const t=c.get("currentTab");c.update("isCurrentTabOpened",!c.get("isCurrentTabOpened")),t!==e&&c.update("currentTab",e)},renderViewer:a=>{const{slot:r}=a,n=r.subSlot&&r.subSlot.attrs?{className:r.subSlot.attrs.className,"data-testid":r.subSlot.attrs["data-testid"],ref:r.subSlot.attrs.ref,style:r.subSlot.attrs.style}:{};return r.children=o.createElement("div",{className:y},o.createElement("div",{"data-testid":"default-layout__main",className:e.classNames({[C]:!0,[P]:a.themeContext.direction===e.TextDirection.RightToLeft})},o.createElement(k,{attachmentTabContent:o.createElement(b,null),bookmarkTabContent:o.createElement(m,null),store:c,thumbnailTabContent:o.createElement(p,null),tabs:h}),o.createElement("div",{className:L,"data-testid":"default-layout__body"},o.createElement("div",{className:M},t&&t.renderToolbar?t.renderToolbar(f):o.createElement(f,null)),o.createElement("div",{...n},r.subSlot.children))),r.children),r.subSlot.attrs={},r.subSlot.children=o.createElement(o.Fragment,null),r},onDocumentLoad:e=>{t&&t.setInitialTab&&t.setInitialTab(e.doc).then((e=>{c.update("currentTab",e),c.update("isCurrentTabOpened",!0)}))}}},exports.setInitialTabFromPageMode=t=>new Promise(((a,r)=>{t.getPageMode().then((t=>{if(t)switch(t){case e.PageMode.Attachments:a(2);break;case e.PageMode.Bookmarks:a(1);break;case e.PageMode.Thumbnails:a(0);break;default:a(-1)}else a(-1)}))}));
